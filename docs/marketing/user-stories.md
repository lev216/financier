# Пользовательские истории

## 1. Создать модель для вклада и наличных денежных средств

Создать абстрактную сущность Asset

| Поле         | Тип           | Описание                                                |
|--------------|---------------|---------------------------------------------------------|
| Id           | UUID          | Уникальный идентификатор Asset                          |
| Sum          | BigDecimal    | Сумма                                                   |
| Currency     | String        | Валюта                                                  |
| UserId       | Long          | Id пользователя                                         |
| Type         | Enum          | Абстрактный getter для обозначения типа (DEPOSIT, CASH) |
| CreateDate   | LocalDateTime | Дата создания актива                                    |
| LastModified | LocalDateTime | Дата последнего обновления актива                       |

Отнаследовать от Asset сущность Deposit
 
| Поле         | Тип            | Описание          |
|--------------|----------------|-------------------|
| StartDate    | LocalDateTime  | Дата начала       |               
| EndDate      | LocalDateTime  | Дата окончания    |                
| InterestRate | BigDecimal     | Процентная ставка |               

Отнаследовать от Asset сущность Cash (дополнительных полей нет)

## 2. Создать интеграцию с БД

Написать репозиторий с CRUD операциями, создать интеграцию с MongoDb

## 3. Создать эндпоинты

Написать контроллер для управления сущностью Asset, валидацию, а также сервис как 
прослойка между репозиторием и контроллером.

**Эндпоинты**

| Путь           | Описание                                                                           | 
|----------------|------------------------------------------------------------------------------------| 
| /create        | POST метод для создания Asset (возвращает id при положительном ответе)             | 
| /update/{id}   | POST метод для обновления Asset после редактирования                               | 
| /search/{type} | GET метод для поиска Asset в зависимости от типа (поиск по датам, id пользователя) | 
| /delete/{id}   | DELETE метод для удаления Asset                                                    |

## 4. Создать интеграцию с ресурсом ЦБ РФ

Создать отдельный подпроект для интеграции ЦБ РФ, чтобы получить курсы валют
(эндпоинты /currencies и /{currency})

## 5. Создать сервис для получения валютного курса

Создать подпроект, который выдает нужный валютный курс из кэша (эндпоинт /{currency}). 
При отсутсвии кэша вызывает эндпоинт /currencies интеграционного сервиса

